<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_27) on Wed Oct 02 21:14:16 PDT 2013 -->
<TITLE>
datafu.hourglass.jobs (DataFu Hourglass)
</TITLE>

<META NAME="date" CONTENT="2013-10-02">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="datafu.hourglass.jobs (DataFu Hourglass)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../datafu/hourglass/fs/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../datafu/hourglass/mapreduce/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?datafu/hourglass/jobs/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package datafu.hourglass.jobs
</H2>
Incremental Hadoop jobs and some supporting classes.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Interface Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/DateRangeConfigurable.html" title="interface in datafu.hourglass.jobs">DateRangeConfigurable</A></B></TD>
<TD>An interface for an object with a configurable output date range.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/Setup.html" title="interface in datafu.hourglass.jobs">Setup</A></B></TD>
<TD>Used as a callback by <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>PartitionCollapsingIncrementalJob</CODE></A> and <A HREF="../../../datafu/hourglass/jobs/PartitionPreservingIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>PartitionPreservingIncrementalJob</CODE></A>
 to provide configuration settings for the Hadoop job.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/AbstractJob.html" title="class in datafu.hourglass.jobs">AbstractJob</A></B></TD>
<TD>Base class for Hadoop jobs.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/AbstractNonIncrementalJob.html" title="class in datafu.hourglass.jobs">AbstractNonIncrementalJob</A></B></TD>
<TD>Base class for Hadoop jobs that consume time-partitioned data
 in a non-incremental way.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/AbstractNonIncrementalJob.BaseCombiner.html" title="class in datafu.hourglass.jobs">AbstractNonIncrementalJob.BaseCombiner</A></B></TD>
<TD>Combiner base class for <A HREF="../../../datafu/hourglass/jobs/AbstractNonIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>AbstractNonIncrementalJob</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/AbstractNonIncrementalJob.BaseMapper.html" title="class in datafu.hourglass.jobs">AbstractNonIncrementalJob.BaseMapper</A></B></TD>
<TD>Mapper base class for <A HREF="../../../datafu/hourglass/jobs/AbstractNonIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>AbstractNonIncrementalJob</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/AbstractNonIncrementalJob.BaseReducer.html" title="class in datafu.hourglass.jobs">AbstractNonIncrementalJob.BaseReducer</A></B></TD>
<TD>Reducer base class for <A HREF="../../../datafu/hourglass/jobs/AbstractNonIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>AbstractNonIncrementalJob</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/AbstractNonIncrementalJob.Report.html" title="class in datafu.hourglass.jobs">AbstractNonIncrementalJob.Report</A></B></TD>
<TD>Reports files created and processed for an iteration of the job.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/AbstractPartitionCollapsingIncrementalJob.html" title="class in datafu.hourglass.jobs">AbstractPartitionCollapsingIncrementalJob</A></B></TD>
<TD>An <A HREF="../../../datafu/hourglass/jobs/IncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>IncrementalJob</CODE></A> that consumes partitioned input data and collapses the
 partitions to produce a single output.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/AbstractPartitionCollapsingIncrementalJob.Report.html" title="class in datafu.hourglass.jobs">AbstractPartitionCollapsingIncrementalJob.Report</A></B></TD>
<TD>Reports files created and processed for an iteration of the job.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/AbstractPartitionPreservingIncrementalJob.html" title="class in datafu.hourglass.jobs">AbstractPartitionPreservingIncrementalJob</A></B></TD>
<TD>An <A HREF="../../../datafu/hourglass/jobs/IncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>IncrementalJob</CODE></A> that consumes partitioned input data and produces
 output data having the same partitions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/AbstractPartitionPreservingIncrementalJob.Report.html" title="class in datafu.hourglass.jobs">AbstractPartitionPreservingIncrementalJob.Report</A></B></TD>
<TD>Reports files created and processed for an iteration of the job.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/DateRangePlanner.html" title="class in datafu.hourglass.jobs">DateRangePlanner</A></B></TD>
<TD>Determines the date range of inputs which should be processed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html" title="class in datafu.hourglass.jobs">ExecutionPlanner</A></B></TD>
<TD>Base class for execution planners.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/FileCleaner.html" title="class in datafu.hourglass.jobs">FileCleaner</A></B></TD>
<TD>Used to remove files from the file system when they are no longer needed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/IncrementalJob.html" title="class in datafu.hourglass.jobs">IncrementalJob</A></B></TD>
<TD>Base class for incremental jobs.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html" title="class in datafu.hourglass.jobs">PartitionCollapsingExecutionPlanner</A></B></TD>
<TD>Execution planner used by <A HREF="../../../datafu/hourglass/jobs/AbstractPartitionCollapsingIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>AbstractPartitionCollapsingIncrementalJob</CODE></A> and its derived classes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingIncrementalJob.html" title="class in datafu.hourglass.jobs">PartitionCollapsingIncrementalJob</A></B></TD>
<TD>A concrete version of <A HREF="../../../datafu/hourglass/jobs/AbstractPartitionCollapsingIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>AbstractPartitionCollapsingIncrementalJob</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/PartitionPreservingExecutionPlanner.html" title="class in datafu.hourglass.jobs">PartitionPreservingExecutionPlanner</A></B></TD>
<TD>Execution planner used by <A HREF="../../../datafu/hourglass/jobs/AbstractPartitionPreservingIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>AbstractPartitionPreservingIncrementalJob</CODE></A> and its derived classes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/PartitionPreservingIncrementalJob.html" title="class in datafu.hourglass.jobs">PartitionPreservingIncrementalJob</A></B></TD>
<TD>A concrete version of <A HREF="../../../datafu/hourglass/jobs/AbstractPartitionPreservingIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>AbstractPartitionPreservingIncrementalJob</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/ReduceEstimator.html" title="class in datafu.hourglass.jobs">ReduceEstimator</A></B></TD>
<TD>Estimates the number of reducers needed based on input size.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/StagedOutputJob.html" title="class in datafu.hourglass.jobs">StagedOutputJob</A></B></TD>
<TD>A derivation of <CODE>Job</CODE> that stages its output in another location and only
 moves it to the final destination if the job completes successfully.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/TimeBasedJob.html" title="class in datafu.hourglass.jobs">TimeBasedJob</A></B></TD>
<TD>Base class for Hadoop jobs that consume time-partitioned data.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../datafu/hourglass/jobs/TimePartitioner.html" title="class in datafu.hourglass.jobs">TimePartitioner</A></B></TD>
<TD>A partitioner used by <A HREF="../../../datafu/hourglass/jobs/AbstractPartitionPreservingIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>AbstractPartitionPreservingIncrementalJob</CODE></A> to limit the number of named outputs
 used by each reducer.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package datafu.hourglass.jobs Description
</H2>

<P>
Incremental Hadoop jobs and some supporting classes.  
 
 <p>
 Jobs within this package form the core of the incremental framework implementation.
 There are two types of incremental jobs: <em>partition-preserving</em> and 
 <em>partition-collapsing</em>.
 </p>
 
 <p>
 A partition-preserving job consumes input data partitioned by day and produces output data partitioned by day.
 This is equivalent to running a MapReduce job for each individual day of input data,
 but much more efficient.  It compares the input data against the existing output data and only processes
 input data with no corresponding output.
 </p>
 
 <p>
 A partition-collapsing job consumes input data partitioned by day and produces a single output.
 What distinguishes this job from a standard MapReduce job is that it can reuse the previous output.
 This enables it to process data much more efficiently.  Rather than consuming all input data on each
 run, it can consume only the new data since the previous run and merges it with the previous output.
 </p>
 
 <p>
 Partition-preserving and partition-collapsing jobs can be created by extending <A HREF="../../../datafu/hourglass/jobs/AbstractPartitionPreservingIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>AbstractPartitionPreservingIncrementalJob</CODE></A>
 and <A HREF="../../../datafu/hourglass/jobs/AbstractPartitionCollapsingIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>AbstractPartitionCollapsingIncrementalJob</CODE></A>, respectively, and implementing the necessary methods.
 Alternatively, there are concrete versions of these classes, <A HREF="../../../datafu/hourglass/jobs/PartitionPreservingIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>PartitionPreservingIncrementalJob</CODE></A> and 
 <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>PartitionCollapsingIncrementalJob</CODE></A>, which can be used instead.  With these classes, the implementations are provided
 through setters.  
 </p>
 
 <p>
 Incremental jobs use Avro for input, intermediate, and output data.  To implement an incremental job, one must define their schemas.
 A <em>key schema</em> and <em>intermediate value schema</em> specify the output of the mapper and combiner, which output key-value pairs.
 The <em>key schema</em> and an <em>output value schema</em> specify the output of the reducer, which outputs a record having key and value
 fields.
 </p>
 
 <p>
 An incremental job also requires that implementations of map and reduce be defined, and optionally combine.  The map implementation must 
 implement a <A HREF="../../../datafu/hourglass/model/Mapper.html" title="interface in datafu.hourglass.model"><CODE>Mapper</CODE></A> interface, which is very similar to the standard map interface in Hadoop.
 The combine and reduce operations are implemented through an <A HREF="../../../datafu/hourglass/model/Accumulator.html" title="interface in datafu.hourglass.model"><CODE>Accumulator</CODE></A> interface.
 This is similar to the standard reduce in Hadoop, however values are provided one-at-a-time rather than by an enumerable list.
 Also an accumulator returns either one value or no value at all by returning null.  That is, the accumulator may not return an arbitrary number of values
 for the output.  This restriction precludes the implementation of certain operations, like flatten, which do not fit well within the 
 incremental programming model.
 </p>
<P>

<P>
<DL>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../datafu/hourglass/fs/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../datafu/hourglass/mapreduce/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?datafu/hourglass/jobs/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Matthew Hayes
</BODY>
</HTML>
